{"version":3,"sources":["services/youtubeDataService.js","components/YoutubeSearch/VideoItem.jsx","components/YoutubeSearch/VideoList.jsx","constants/secrets.js","components/YoutubeSearch/Comments.jsx","components/Util/Modal.jsx","components/YoutubeSearch/VideoDetail.jsx","components/YoutubeSearch/Searchbar.jsx","Footer.jsx","App.js","reportWebVitals.js","index.js"],"names":["API_KEY","searchYouTube","searchTerm","a","nextPageToken","axios","get","params","part","maxResults","q","pageToken","key","response","data","console","error","VideoItem","video","onVideoSelect","className","onClick","src","snippet","thumbnails","medium","url","alt","title","channelTitle","VideoList","videos","map","id","videoId","YOUTUBE_API_KEY","Comments","useState","comments","setComments","loading","setLoading","setError","setNextPageToken","useEffect","fetchComments","prevComments","items","comment","topLevelComment","authorDisplayName","textDisplay","Modal","isOpen","onClose","children","VideoDetail","setIsOpen","videoSrc","allowFullScreen","description","SearchBar","onSearch","term","setTerm","isFocused","setIsFocused","onSubmit","event","preventDefault","type","value","onChange","target","placeholder","onFocus","onBlur","Footer","href","rel","App","setVideos","selectedVideo","setSelectedVideo","setSearchTerm","isBottomReached","setIsBottomReached","currentSearchAPICount","setCurrentSearchAPICount","handleSearch","loadMoreVideos","useCallback","curr","prevVideos","handleScroll","document","documentElement","scrollTop","scrollHeight","clientHeight","finally","window","addEventListener","removeEventListener","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.71db4ec1.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'AIzaSyDqIqgabJLr9eWnNVNYldugjHMmd88CqPc';\n\nexport const searchYouTube = async (searchTerm, nextPageToken = null) => {\n  try {\n    const response = await axios.get('https://www.googleapis.com/youtube/v3/search', {\n      params: {\n        part: 'snippet',\n        maxResults: 10,\n        q: searchTerm,\n        pageToken: nextPageToken,\n        key: API_KEY,\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching videos:', error);\n    throw error;\n  }\n};\n","import React from 'react';\n\nconst VideoItem = ({ video, onVideoSelect }) => {\n  return (\n    <div className=\"video-item\" onClick={() => onVideoSelect(video)}>\n      <img src={video.snippet.thumbnails.medium.url} alt={video.snippet.title} />\n      <div className=\"video-item-details\">\n        <h4>{video.snippet.title}</h4>\n        <p>{video.snippet.channelTitle}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoItem;\n","import React from 'react';\nimport VideoItem from './VideoItem';\n\nconst VideoList = ({ videos, onVideoSelect }) => {\n  return (\n    <div className=\"video-list\">\n      {videos.map((video) => (\n        <VideoItem key={video.id.videoId} video={video} onVideoSelect={onVideoSelect} />\n      ))}\n    </div>\n  );\n};\n\nexport default VideoList;\n","export const YOUTUBE_API_KEY = 'AIzaSyDqIqgabJLr9eWnNVNYldugjHMmd88CqPc';","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { YOUTUBE_API_KEY } from '../../constants/secrets';\n\nconst Comments = ({ videoId }) => {\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [nextPageToken, setNextPageToken] = useState(null);\n\n  useEffect(() => {\n    if (videoId) {\n      fetchComments();\n    }\n  }, [videoId]);\n\n  const fetchComments = async (pageToken = '') => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await axios.get('https://www.googleapis.com/youtube/v3/commentThreads', {\n        params: {\n          part: 'snippet',\n          videoId,\n          key: YOUTUBE_API_KEY,\n          maxResults: 10, // Fetch 10 comments at a time\n          pageToken,\n        },\n      });\n\n      setComments((prevComments) => [...prevComments, ...response.data.items]);\n      setNextPageToken(response.data.nextPageToken);\n    } catch (err) {\n      setError('Failed to fetch comments');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadMoreComments = () => {\n    if (nextPageToken) {\n      fetchComments(nextPageToken);\n    }\n  };\n\n  return (\n    <div className=\"comments-section\">\n      <h2>Comments</h2>\n      {error && <p className=\"error\">{error}</p>}\n      {loading && <p>Loading comments...</p>}\n      {comments.map((comment) => (\n        <div key={comment.id} className=\"comment\">\n          <p className=\"comment-author\">\n            {comment.snippet.topLevelComment.snippet.authorDisplayName}\n          </p>\n          <p className=\"comment-text\">\n            {comment.snippet.topLevelComment.snippet.textDisplay}\n          </p>\n        </div>\n      ))}\n      {nextPageToken && (\n        <button onClick={loadMoreComments} className=\"load-more-button\">\n          Load More Comments\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Comments;\n","import React from 'react';\n\nconst Modal = ({ isOpen, onClose, children }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-content\">\n        <button onClick={onClose} className=\"load-more-button\">\n          Close\n        </button>\n        <div className=\"modal-body\">{children}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport Comments from './Comments';\nimport Modal from '../Util/Modal';\nimport '../../style/common.css';\n\nconst VideoDetail = ({ video }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  if (!video) {\n    return <div>Please search a video to watch</div>;\n  }\n\n  const onClose = () => {setIsOpen(false)};\n  const videoSrc = `https://www.youtube.com/embed/${video.id.videoId}`;\n\n  const displayComments = () => {\n    setIsOpen(true);\n  };\n\n  return (\n    <div className=\"video-detail\">\n      <div className=\"video-detail-player\">\n        <iframe src={videoSrc} allowFullScreen title=\"Video player\" />\n      </div>\n      <div className=\"video-detail-info\">\n        <h2>{video.snippet.title}</h2>\n        <p>{video.snippet.description}</p>\n      </div>\n      <button className=\"animated-button\" onClick={displayComments}>\n      {'Show Comments'}\n    </button>\n    <Modal isOpen={isOpen} onClose={onClose} children={<Comments videoId={video.id.videoId} /> }/> \n    </div>\n  );\n};\n\nexport default VideoDetail;\n","// SearchBar.js\n\nimport React, { useState } from 'react';\n\nconst SearchBar = ({ onSearch }) => {\n  const [term, setTerm] = useState('');\n  const [isFocused, setIsFocused] = useState(false);\n\n  const handleInputChange = (event) => {\n    setTerm(event.target.value);\n  };\n\n  const handleSearch = (event) => {\n    event.preventDefault();\n    onSearch(term);\n  };\n\n  return (\n    <div className=\"search-bar\">\n      <form onSubmit={handleSearch}>\n        <input\n          type=\"text\"\n          value={term}\n          onChange={handleInputChange}\n          placeholder=\"Search for videos...\"\n          className=\"search-input\"\n        />\n        <button\n          type=\"submit\"\n          className={`search-button ${isFocused ? 'focused' : ''}`}\n          onFocus={() => setIsFocused(true)}\n          onBlur={() => setIsFocused(false)}\n        >\n          Search\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import React from 'react';\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer-content\">\n        <a\n          href=\"https://github.com/cleverprogrammer96\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"footer-link\"\n        >\n          <i className=\"fab fa-github\"></i> GitHub\n        </a>\n        <a\n          href=\"https://www.linkedin.com/in/manish-goyal-5bb22a154/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"footer-link\"\n        >\n          <i className=\"fab fa-linkedin\"></i> LinkedIn\n        </a>\n      </div>\n      <p className=\"footer-text\">© 2024 CleverProgrammer96. All Rights Reserved.</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { searchYouTube } from './services/youtubeDataService';\nimport VideoList from './components/YoutubeSearch/VideoList';\nimport VideoDetail from './components/YoutubeSearch/VideoDetail';\nimport './App.css';\nimport SearchBar from './components/YoutubeSearch/Searchbar';\nimport Footer from './Footer';\n\nconst App = () => {\n  const [videos, setVideos] = useState([]);\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [nextPageToken, setNextPageToken] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isBottomReached, setIsBottomReached] = useState(false);\n  const [currentSearchAPICount, setCurrentSearchAPICount] = useState(0);\n  const apiRateLimit = 3;\n\n  // Function to handle the initial search and reset state\n  const handleSearch = async (term) => {\n    setSearchTerm(term);\n    setLoading(true);\n\n    try {\n      setVideos([]);\n      const data = await searchYouTube(term);\n      setVideos(data.items);\n      setSelectedVideo(data.items[0]);\n      setNextPageToken(data.nextPageToken);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n    }\n  };\n\n  // Function to load more videos for infinite scroll bar\n  const loadMoreVideos = useCallback(async () => {\n    if(currentSearchAPICount >= apiRateLimit) {\n      return;\n    }\n    \n    setCurrentSearchAPICount(curr => curr+1);\n    if (!nextPageToken || loading) return;\n\n    setLoading(true);\n\n    try {\n      const data = await searchYouTube(searchTerm, nextPageToken);\n      setVideos((prevVideos) => [...prevVideos, ...data.items]);\n      setNextPageToken(data.nextPageToken);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n    }\n  }, [nextPageToken, searchTerm, loading]);\n\n  // Throttle the scroll event handler to improve performance\n  const handleScroll = useCallback(() => {\n    if (loading || isBottomReached) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = document.documentElement;\n    const isBottom = scrollTop + clientHeight >= scrollHeight - 100;\n\n    if (isBottom) {\n      setIsBottomReached(true);\n      loadMoreVideos().finally(() => setIsBottomReached(false));\n    }\n  }, [loadMoreVideos, loading, isBottomReached]);\n\n  // Effect to add and clean up the scroll event listener\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [handleScroll]);\n\n  // Function to set the selected video for detailed view\n  const handleVideoSelect = (video) => {\n    setSelectedVideo(video);\n  };\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <h1>YouTube Video Search</h1>\n        <p>Find and explore amazing videos from YouTube</p>\n      </header>\n      <SearchBar onSearch={handleSearch} />\n      <div className=\"content\">\n        <VideoDetail video={selectedVideo} />\n        <VideoList videos={videos} onVideoSelect={handleVideoSelect} />\n      </div>\n      {loading && <div className=\"loading\">Loading...</div>}\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}